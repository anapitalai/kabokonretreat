!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.MomentumSlider=e()}(this,function(){"use strict";function t(t){this.o=o({},this.defaults,t),this.initHtml(),this.initValues(),this.initEvents(),this.updateClassnames()}window.addEventListener("touchmove",function(){}),t.prototype={defaults:{el:".ms-container",cssClass:"",vertical:!1,multiplier:1,bounceCoefficient:.3,bounceMax:100,loop:0,interactive:!0,reverse:!1,currentIndex:0},initHtml:function(){if(this.msContainer=e.str(this.o.el)?document.querySelector(this.o.el):this.o.el,this.o.range){for(var t='<div class="ms-container '+this.o.cssClass+'"><ul class="ms-track">',i=this.o.range[0];i<=this.o.range[1];i++)t+=e.fnc(this.o.rangeContent)?n(this.o.rangeContent(i)):n(i);t+="</ul></div>";var s=document.createElement("div");s.innerHTML=t,this.msContainer.appendChild(s.firstChild),this.msContainer=this.msContainer.lastChild}if(this.msContainer.classList.add("ms-container--"+(this.o.vertical?"vertical":"horizontal")),this.o.reverse&&this.msContainer.classList.add("ms-container--reverse"),this.msTrack=this.msContainer.children[0],this.msSlides=this.msTrack.children,this.step=this.o.vertical?this.msSlides[0].scrollHeight:this.msSlides[0].scrollWidth,this.sliderLength=this.msSlides.length,this.o.loop){var r,o,h;for(h=document.createDocumentFragment(),o=this.sliderLength-(r=this.o.loop);r--;)h.appendChild(this.msSlides[o++].cloneNode(!0));for(this.msTrack.insertBefore(h,this.msTrack.firstChild),h=document.createDocumentFragment(),o=r=this.o.loop;r--;)h.appendChild(this.msSlides[o++].cloneNode(!0));this.msTrack.appendChild(h),this.sliderLength+=2*this.o.loop}this.sliderWidth=this.sliderLength*this.step},initValues:function(){this.boundMin=this.o.reverse?0:-this.step*(this.sliderLength-1),this.boundMax=this.o.reverse?this.step*(this.sliderLength-1):0,this.targetPosition=this.targetPosition||0,this.ticking=!1,this.enabled=!0,this.pointerActive=!1,this.pointerMoved=!1,this.trackingPoints=[],this.msTrack.style[this.o.vertical?"height":"width"]=this.sliderWidth+"px",this.currentIndex=(this.currentIndex||this.o.currentIndex)+this.o.loop,this.updateSlider(void 0,!0),this.renderTarget();for(var t=this.sliderLength;t--;)this.setStyle(t,this.currentIndex==t?0:-1)},initEvents:function(){this.o.interactive&&(this.msContainer.addEventListener("touchstart",this.onDown.bind(this)),this.msContainer.addEventListener("mousedown",this.onDown.bind(this)),document.addEventListener("touchmove",this.onMove.bind(this),!!h()&&{passive:!1}),document.addEventListener("touchend",this.onUp.bind(this)),document.addEventListener("touchcancel",this.stopTracking.bind(this)),document.addEventListener("mousemove",this.onMove.bind(this),!!h()&&{passive:!1}),document.addEventListener("mouseup",this.onUp.bind(this)),this.o.prevEl&&(this.prevEl=e.str(this.o.prevEl)?document.querySelector(this.o.prevEl):this.o.prevEl,this.prevEl.addEventListener("click",this.prev.bind(this))),this.o.nextEl&&(this.nextEl=e.str(this.o.nextEl)?document.querySelector(this.o.nextEl):this.o.nextEl,this.nextEl.addEventListener("click",this.next.bind(this)))),window.addEventListener("resize",this.onResize.bind(this))},prev:function(){this.enabled&&this.updateSlider(Math.round(this.targetPosition/this.step)*this.step+(this.o.reverse?-this.step:this.step))},next:function(){this.enabled&&this.updateSlider(Math.round(this.targetPosition/this.step)*this.step+(this.o.reverse?this.step:-this.step))},select:function(t){this.enabled&&this.updateSlider((t+this.o.loop)*(this.o.reverse?this.step:-this.step))},setStyleToNode:function(t,e,i,s){if(e){var n="";for(var r in e)"."==r[0]?this.setStyleToNode(t.querySelector(r),e[r],i,s):"transform"==r?e[r].forEach(function(t){for(var e in t)n+=e+"("+d(t[e],i,s),"rotate"==e?n+="deg":"translateX"!=e&&"translateY"!=e&&"translateZ"!=e||(n+="px"),n+=") "}):n=d(e[r],i,s),t.style[r]=n}},setStyle:function(t,i,s){this.setStyleToNode(this.msSlides[t],this.o.style,i,s),e.fnc(this.o.customStyles)&&this.o.customStyles(t,i,s)},renderTarget:function(){if(this.o.sync)for(var t,i=this.o.sync.length;i--;)(t=this.o.sync[i]).targetPosition=(t.o.reverse?-1:1)*this.targetPosition/this.sliderWidth*t.sliderWidth,t.renderTarget();var n=this.o.loop*this.step,r=this.sliderWidth-2*n;if(this.o.loop)if(-this.targetPosition<n)for(;-this.targetPosition<n;)this.targetPosition-=r;else if(-this.targetPosition>=n+r)for(;-this.targetPosition>=n+r;)this.targetPosition+=r;var o=(this.o.reverse?1:-1)*this.targetPosition/this.step;this.onChangeCurrentIndex(Math.round(o));var h=Math.floor(o),a=Math.ceil(o),d=o-h,c=o-a;e.und(this.lowerIndex)||this.lowerIndex==h||this.lowerIndex==a||this.setStyle(this.lowerIndex,1,!0),e.und(this.higherIndex)||this.higherIndex==h||this.higherIndex==a||this.setStyle(this.higherIndex,-1),h>=0&&h<this.sliderLength&&(this.setStyle(h,d,!0),this.lowerIndex=h),a>=0&&a<this.sliderLength&&(this.setStyle(a,c),this.higherIndex=a),this.msTrack.style[s]="translate"+(this.o.vertical?"Y":"X")+"("+this.targetPosition+"px)"},onDown:function(t){if(this.enabled&&!this.pointerActive){var e=a(t);this.pointerActive=!0,this.pointerId=e.id,this.pointerLastX=this.pointerCurrentX=e.x,this.pointerLastY=this.pointerCurrentY=e.y,this.trackingPoints=[],this.addTrackingPoint(this.pointerLastX,this.pointerLastY),this.animateInstance&&this.animateInstance.stop()}},onMove:function(t){if(this.enabled&&this.pointerActive){this.pointerMoved=!0,t.preventDefault();var e=a(t);e.id===this.pointerId&&(this.pointerCurrentX=e.x,this.pointerCurrentY=e.y,this.addTrackingPoint(this.pointerLastX,this.pointerLastY),this.requestTick())}},onUp:function(t){if(this.enabled&&this.pointerActive&&a(t).id===this.pointerId){var e=t.target;if(this.msTrack.contains(e))for(;!e.matches(".ms-slide, .ms-track");)e=e.parentNode;var i=Array.prototype.indexOf.call(this.msSlides,e);this.pointerMoved||-1!==i&&(this.currentIndex=i,this.updateSlider()),this.stopTracking(i)}},onResize:function(){},stopTracking:function(t){this.pointerActive=!1,(this.pointerMoved||-1===t)&&(this.pointerMoved=!1,this.addTrackingPoint(this.pointerLastX,this.pointerLastY),this.startDecelAnim())},addTrackingPoint:function(t,e){for(var i=Date.now();this.trackingPoints.length>0&&!(i-this.trackingPoints[0].time<=100);)this.trackingPoints.shift();this.trackingPoints.push({x:t,y:e,time:i})},updateAndRender:function(){var t,e=this.o.vertical?this.pointerCurrentY-this.pointerLastY:this.pointerCurrentX-this.pointerLastX;if(this.targetPosition+=e*this.o.multiplier,this.o.bounceCoefficient){var i=this.checkBounds();0!==i&&(this.targetPosition-=e*(t=i,5e-6*Math.pow(t,2)+1e-4*t+.55)*this.o.multiplier)}else this.checkBounds(!0);this.renderTarget(),this.pointerLastX=this.pointerCurrentX,this.pointerLastY=this.pointerCurrentY,this.ticking=!1},requestTick:function(){this.ticking||requestAnimationFrame(this.updateAndRender.bind(this)),this.ticking=!0},checkBounds:function(t){var e=0;return void 0!==this.boundMin&&this.targetPosition<this.boundMin?e=this.boundMin-this.targetPosition:void 0!==this.boundMax&&this.targetPosition>this.boundMax&&(e=this.boundMax-this.targetPosition),t&&0!==e&&(this.targetPosition=e>0?this.boundMin:this.boundMax),e},startDecelAnim:function(){var t=this.trackingPoints[0],e=this.trackingPoints[this.trackingPoints.length-1];this.decVel=(this.o.vertical?e.y-t.y:e.x-t.x)/((e.time-t.time)/15/this.o.multiplier)||0;var i=this.targetPosition+12*this.decVel,s=i%this.step;i-=s,Math.abs(s)>this.step/2&&(i+=(s>0?1:-1)*this.step),this.updateSlider(i)},fixCurrentIndex:function(){this.o.loop&&(this.currentIndex<this.o.loop?this.currentIndex=this.sliderLength-this.o.loop+(this.currentIndex-this.o.loop):this.currentIndex>this.sliderLength-this.o.loop-1&&(this.currentIndex=this.currentIndex+2*this.o.loop-this.sliderLength))},updateSlider:function(t,i){e.und(t)?t=(this.o.reverse?1:-1)*this.currentIndex*this.step:this.currentIndex=(this.o.reverse?1:-1)*t/this.step,this.fixCurrentIndex(),t!==this.targetPosition&&(this.updateClassnames(),this.animateTarget(t,i))},updateClassnames:function(){this.prevEl&&(0===this.currentIndex?this.prevEl.classList.add("ms-first"):this.prevEl.classList.remove("ms-first")),this.nextEl&&(this.currentIndex===this.sliderLength-1?this.nextEl.classList.add("ms-last"):this.nextEl.classList.remove("ms-last"))},animateTarget:function(t,i,s){this.animateInstance&&this.animateInstance.stop();var n=this,r=this.targetPosition,o=t;this.animateInstance=function(t,i,s){if(i){var n=performance.now(),r=null,o=!1,h=function(a){var d=(a-n)/i;d<0&&(d=0),d>1&&(d=1),e.fnc(s)&&(d=s(d)),t(d),1===d||o||(r=requestAnimationFrame(h))};return r=requestAnimationFrame(h),new function(){this.stop=function(){r&&cancelAnimationFrame(r),o=!0}}}t(1)}(function(t){n.targetPosition=o>r?r+(o-r)*t:r-(r-o)*t;var e=n.o.reverse?0:-(n.sliderLength-1)*n.step,i=n.o.reverse?(n.sliderLength-1)*n.step:0;!s&&!n.o.loop&&n.o.bounceCoefficient&&(n.targetPosition>i&&n.targetPosition>i+Math.min((o-i)*n.o.bounceCoefficient,n.o.bounceMax)||n.targetPosition<e&&n.targetPosition<e-Math.min(-(o-e)*n.o.bounceCoefficient,n.o.bounceMax))?(n.animateInstance.stop(),n.animateTarget(n.targetPosition<e?e:i,!1,!0),n.currentIndex=n.targetPosition<e?0:n.sliderLength-1):n.renderTarget()},i?0:500,function(t){return t*(2-t)})},onChangeCurrentIndex:function(t){var i=this.o.loop?t-this.o.loop:t;i=i===this.sliderLength-2*this.o.loop?0:i,e.fnc(this.o.change)&&i!==this.lastCurrentIndex&&(this.o.change(i,this.lastCurrentIndex),this.lastCurrentIndex=i)},getCurrentIndex:function(){return this.o.loop?this.currentIndex-this.o.loop:this.currentIndex},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1}};var e={arr:function(t){return Array.isArray(t)},str:function(t){return"string"==typeof t},und:function(t){return void 0===t},fnc:function(t){return"function"==typeof t}},i="transform",s=function(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}(document.body,i)?i:"-webkit-"+i;function n(t){return'<li class="ms-slide">'+t+"</li>"}function r(t,i){for(var s in i)t[s]=e.arr(i[s])?i[s].slice(0):i[s];return t}function o(t){t||(t={});for(var e=1;e<arguments.length;e++)r(t,arguments[e]);return t}function h(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(i){}return h=function(){return t},t}function a(t){if("touchmove"===t.type||"touchstart"===t.type||"touchend"===t.type){var e=t.targetTouches[0]||t.changedTouches[0];return{x:e.clientX,y:e.clientY,id:e.identifier}}return{x:t.clientX,y:t.clientY,id:null}}function d(t,e,i){var s=t[0],n=t[1],r=i?n-s:n-(t[2]||s);return i?n-r*e:n+r*e}return o(t,{extend:o,transformProperty:s,getCurrentValue:d})}),function(){var t=document.querySelector(".sliders-container"),e=new MomentumSlider({el:t,cssClass:"ms--numbers",range:[1,4],rangeContent:function(t){return"0"+t},style:{transform:[{scale:[.4,1]}],opacity:[0,1]},interactive:!1}),i=["Corey and the team","Resort Sandy beaches","Lovely views","The DOY islands"],s=new MomentumSlider({el:t,cssClass:"ms--titles",range:[0,3],rangeContent:function(t){return"<h3>"+i[t]+"</h3>"},vertical:!0,reverse:!0,style:{opacity:[0,1]},interactive:!1}),n=new MomentumSlider({el:t,cssClass:"ms--links",range:[0,3],rangeContent:function(){return'<a class="ms-slide__link">View Case</a>'},vertical:!0,interactive:!1}),r=document.querySelector(".pagination"),o=[].slice.call(r.children),h=new MomentumSlider({el:t,cssClass:"ms--images",range:[0,3],rangeContent:function(){return'<div class="ms-slide__image-container"><div class="ms-slide__image"></div></div>'},sync:[e,s,n],style:{".ms-slide__image":{transform:[{scale:[1.5,1]}]}},change:function(t,e){void 0!==e&&o[e].classList.remove("pagination__item--active"),o[t].classList.add("pagination__item--active")}});r.addEventListener("click",function(t){if(t.target.matches(".pagination__button")){var e=o.indexOf(t.target.parentNode);h.select(e)}})}();var modalHandle=document.getElementById("modal-form"),modalButton=document.getElementById("modal-button");modalButton.onclick=function(){modalHandle.style.display="block"};